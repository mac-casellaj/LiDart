<script src="local.js"></script>
<h1>LiDart</h1> 
<button id="websocket-button">Right</button>


<script>
    function scanFunction() {
      console.log("Scan Button pressed");
    }
</script>

<script>
    function calibrateFunction() {
        console.log("Calibrate button pressed");
    }
</script>

<!--Functions for the keys-->
<script>
    function moveUp() {
        console.log("Going up");
    }
</script>

<script>
    function moveDown() {
        console.log("Going Down");
    }
</script>

<script>
    function moveRight() {
        console.log("To the right");
    }
</script>

<script>
    function moveLeft() {
        console.log("To the left");
    }
</script>

<script>
    // When the document has loaded
document.addEventListener('DOMContentLoaded', function() {
    // Connect to the websocket
    connect();
    // And add our event listeners
    document.getElementById('websocket-button').addEventListener('click', function(e) {
        if(isOpen(socket)) {
            socket.send(JSON.stringify({
                "data" : "We moving right - pressed"
            }))
        }
    });

    // <!--Kayboard input-->
    window.addEventListener("keydown", function(event) {
        if (event.defaultPrevented) {
      return;
    }
    if (event.code === "ArrowDown"){
        // Handle "down"
        moveDown();
        if(isOpen(socket)) {
            socket.send(JSON.stringify({
                "data" : "Keyboard - Down"
            }))
        }
    }});
});

</script>
